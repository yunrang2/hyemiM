<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>혜미님 미션판</title>
<style>
  @font-face {
    font-family: 'CustomFont';
    src: url('https://raw.githubusercontent.com/yunrang2/upload/master/%ED%95%99%EA%B5%90%EC%95%88%EC%8B%AC%EB%AA%BD%EA%B8%80%EB%AA%BD%EA%B8%80.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
  }

  body {
    font-family: 'CustomFont', sans-serif; /* 사용할 폰트 설정 */
    background-color: #4dff00; /* #4dff00으로 배경색 설정 */
    margin: 0;
    padding: 0;
    width: 1920px; /* 창 너비를 1920px로 설정 */
    height: 950px; /* 창 높이를 950px로 설정 */
    overflow: hidden; /* 창 크기 고정을 위해 오버플로우를 숨김 */
    display: flex;
    align-items: center;
    justify-content: flex-start; /* 이미지를 왼쪽으로 정렬 */
    position: relative; /* 상대적 위치 설정 */
  }
  .image-container {
    max-height: 100%;
  }
  .image {
    height: 950px; /* 이미지의 세로 길이를 950px로 고정 */
    cursor: default; /* 왼쪽 이미지는 클릭되지 않도록 커서를 기본값으로 설정 */
  }
  .additional-images {
    position: absolute; /* 절대적 위치 설정 */
    bottom: 0; /* 하단에 배치 */
    right: 0; /* 오른쪽에 배치 */
    display: flex;
    flex-direction: column-reverse; /* 이미지를 아래에서 위로 정렬 */
  }
  .additional-images img {
    width: 200px; /* 이미지의 가로 길이를 200px로 설정 */
    margin-top: 10px; /* 이미지 사이의 간격 설정 */
    cursor: pointer; /* 마우스 커서를 포인터로 설정하여 클릭 가능함을 나타냄 */
    transition: transform 0.2s ease-in-out; /* 이미지에 마우스를 올렸을 때 효과를 위한 트랜지션 */
  }
  .additional-images img:hover {
    transform: scale(1.1); /* 마우스를 올렸을 때 이미지를 1.1배 확대 */
  }
  .modal {
    display: none; /* 모달 창 숨김 */
    position: fixed; /* 고정된 위치 설정 */
    top: 50%;
    left: auto; /* 왼쪽 정렬 해제 */
    right: 0; /* 오른쪽에 배치 */
    transform: translate(-50%, -50%);
    max-width: 80%; /* 모달 창 최대 가로 길이 */
    max-height: 80%; /* 모달 창 최대 세로 길이 */
    overflow-y: auto; /* 세로 스크롤바 표시 */
    z-index: 999; /* 다른 요소들 위에 표시되도록 함 */
    align-items: center;
    justify-content: center;
  }
  .modal-content {
    background-color: white;
    padding: 20px;
    border-radius: 10px;
    overflow: hidden;
    display: flex;
    flex-direction: column; /* 버튼들을 세로로 정렬 */
  }
  .close-button {
    position: absolute;
    top: 10px;
    right: 10px;
    cursor: pointer;
  }
  .button1, .button2, .button3, .button4, .button5, .button6 {
    width: 100px;
    height: 40px;
    background-color: #ff69b4;
    color: white;
    border: none;
    border-radius: 5px;
    font-family: 'CustomFont', sans-serif; /* 사용할 폰트 설정 */
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    margin-bottom: 10px; /* 버튼 사이의 간격 설정 */
  }
  .button1:hover, .button2:hover, .button3:hover, .button4:hover, .button5:hover, .button6:hover {
    background-color: #ff1493;
  }
  .timer-container {
    position: absolute;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    background-color: white;
    color: black;
    padding: 10px;
    border-radius: 5px;
    font-family: 'CustomFont', sans-serif; /* 사용할 폰트 설정 */
    font-size: 36px;
    display: none;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
</style>
</head>
<body>
<div class="image-container">
  <img class="image" src="https://raw.githubusercontent.com/yunrang2/upload/master/%ED%98%9C%EB%AF%B8%EB%8B%98%20%EB%AF%B8%EC%85%98%ED%8C%90.png" alt="혜미님 미션판 이미지">
  <div class="additional-images">
    <img src="https://raw.githubusercontent.com/yunrang2/upload/master/%EB%B8%8C%EA%B8%88%EB%B2%84%ED%8A%BC.png" alt="브금 버튼 이미지" onclick="openModal('modal2')">
    <img src="https://raw.githubusercontent.com/yunrang2/upload/master/%ED%83%80%EC%9D%B4%EB%A8%B8%EB%B2%84%ED%8A%BC.png" alt="타이머 버튼 이미지" onclick="openModal('modal3')">
  </div>
</div>

<!-- 모달 창 -->
<div id="modal2" class="modal" onclick="closeModal('modal2')">
  <div class="modal-content" onclick="event.stopPropagation();"> <!-- 모달 외부 클릭 방지를 위해 이벤트 전파를 막음 -->
    <span class="close-button" onclick="closeModal('modal2')">&times;</span>
    <button class="button1" onclick="playbutton1()">섹시</button>
    <button class="button2" onclick="playbutton2()">불쌍</button>
    <button class="button3" onclick="playbutton3()">타로</button>
    <button class="button4" onclick="playbutton4()">게임</button>
    <button class="button5" onclick="playbutton5()">황당</button>
    <audio id="sexy-music" loop style="display: none;">
      <source src="https://raw.githubusercontent.com/yunrang2/upload/master/%EC%84%B9%EC%8B%9C.mp3" type="audio/mpeg">
    </audio>
    <audio id="pathetic-music" loop style="display: none;">
      <source src="https://raw.githubusercontent.com/yunrang2/upload/master/%EB%B6%88%EC%8C%8D.mp3" type="audio/mpeg">
    </audio>
    <audio id="tarot-music" loop style="display: none;">
      <source src="https://raw.githubusercontent.com/yunrang2/upload/master/%ED%83%80%EB%A1%9C.mp3" type="audio/mpeg">
    </audio>
    <audio id="game-music" loop style="display: none;">
      <source src="https://raw.githubusercontent.com/yunrang2/upload/master/%EA%B2%8C%EC%9E%84.mp3" type="audio/mpeg">
    </audio>
    <audio id="absurd-music" loop style="display: none;">
      <source src="https://raw.githubusercontent.com/yunrang2/upload/master/%ED%99%A9%EB%8B%B9.mp3" type="audio/mpeg">
    </audio>
  </div>
</div>

<div id="modal3" class="modal" onclick="closeModal('modal3')">
  <div class="modal-content" onclick="event.stopPropagation();"> <!-- 모달 외부 클릭 방지를 위해 이벤트 전파를 막음 -->
    <span class="close-button" onclick="closeModal('modal3')">&times;</span>
    <button class="button1" onclick="startTimer(30)">30초</button>
    <button class="button2" onclick="startTimer(60)">1분</button>
    <button class="button3" onclick="startTimer(180)">3분</button> <!-- 3분 타이머 추가 -->
    <button class="button4" onclick="clearTimer()">타이머 정지</button>
  </div>
</div>

<div class="timer-container" id="timer"></div>

<script>
var timer;
var timerElement = document.getElementById('timer'); // 타이머 요소 선언

function startTimer(duration) {
  clearInterval(timer); // 타이머가 실행 중인 경우 중지
  timerElement.style.display = "block"; // 박스 표시
  var startTime = Date.now();
  updateTimer(duration, startTime); // 타이머 업데이트
  timer = setInterval(function() {
    updateTimer(duration, startTime);
  }, 1000);
}

function updateTimer(duration, startTime) {
  var elapsedTime = Math.floor((Date.now() - startTime) / 1000);
  var remainingTime = duration - elapsedTime;
  if (remainingTime <= 0) {
    clearInterval(timer);
    timerElement.style.display = "none"; // 시간이 다 되면 숨김
  } else {
    var minutes = Math.floor(remainingTime / 60);
    var seconds = remainingTime % 60;
    if (minutes > 0) {
      timerElement.textContent = minutes + '분 ' + seconds + '초 남음';
    } else {
      timerElement.textContent = seconds + '초 남음';
    }
  }
}

function clearTimer() {
  clearInterval(timer);
  timerElement.style.display = "none";
}

document.addEventListener("keydown", function(event) {
  if (event.keyCode === 27) { // ESC 키 눌렀을 때
    var audios = document.querySelectorAll('audio');
    audios.forEach(function(audio) {
      audio.pause();
    });
    clearInterval(timer);
    clearTimer();
  }
});

function openModal(modalId) {
  var modal = document.getElementById(modalId);
  closeModalExcept(modalId); // 해당 모달을 제외한 다른 모달을 닫음
  modal.style.display = "flex"; // 모달 창 표시
}

function closeModal(modalId) {
  var modal = document.getElementById(modalId);
  modal.style.display = "none"; // 모달 창 숨김
}

function closeModalExcept(exceptModalId) {
  var modals = document.querySelectorAll('.modal');
  modals.forEach(function(modal) {
    if (modal.id !== exceptModalId) {
      modal.style.display = "none"; // 해당 모달을 제외한 다른 모달을 숨김
    }
  });
}

function playbutton1() {
  var audio = document.getElementById("sexy-music");
  audio.play();
}

function playbutton2() {
  var existingAudio = document.getElementById("sexy-music");
  if (existingAudio) {
    existingAudio.pause();
  }
  var audio = document.getElementById("pathetic-music");
  audio.play();
}

function playbutton3() {
  var existingAudio = document.getElementById("sexy-music");
  if (existingAudio) {
    existingAudio.pause();
  }
  var audio = document.getElementById("tarot-music");
  audio.play();
}

function playbutton4() {
  var existingAudio = document.getElementById("sexy-music");
  if (existingAudio) {
    existingAudio.pause();
  }
  var audio = document.getElementById("game-music");
  audio.play();
}

function playbutton5() {
  var existingAudio = document.getElementById("sexy-music");
  if (existingAudio) {
    existingAudio.pause();
  }
  var audio = document.getElementById("absurd-music");
  audio.play();
}
</script>

</body>
</html>
